# Agent 实战任务书：打造全能财务助手

## 🎯 任务背景
在之前的课程中，我们分别学习了：
1.  **RAG**：让 AI 拥有“眼睛”，能查阅私有数据。
2.  **Function Calling**：让 AI 拥有“手”，能操作工具（如计算、发邮件）。

现在，我们要把它们结合起来，创造一个**有脑子**的 Agent。它不仅能回答问题，还能**拆解任务**。

## 🛠️ 你的武器库 (`agent_demo.py`)
我为你编写了一个 Agent 原型，它拥有两个工具：
1.  `search_financial_data(query)`: 查阅 `finance_data.md` 里的数据。
2.  `calculator(expression)`: 一个精准的数学计算器。

## ⚔️ 挑战任务
请运行 Agent，并尝试让它完成以下**复合任务**。

### 启动方式
```powershell
streamlit run agent_demo.py
```

### 挑战 1：简单的多步推理
**输入**：`帮我算一下，如果Q4的运营成本再增加 20%，会是多少？`
*   **Agent 的思考路径应该如下**：
    1.  我需要知道 Q4 的运营成本是多少 -> 调用 `search_financial_data`。
    2.  拿到数据（1.9亿）后 -> 调用 `calculator("1.9 * 1.2")`。
    3.  输出最终结果。

### 挑战 2：跨数据计算（高难度）
**输入**：`Q4 的净利率是多少？（净利率 = 净利润 / 总营收）`
*   **难点**：
    *   Agent 需要先查出“净利润”和“总营收”两个数字。
    *   RAG 可能会一次性返回这两个数字，也可能需要查两次。
    *   最后必须调用计算器算出百分比。

## 🔍 观察重点
请务必盯着页面左侧的 **“🧠 Agent 的大脑”** 侧边栏。
你会看到 Agent 真实的想法：
> "用户问净利率...我需要先查数据..."
> "调用 search_tool..."
> "查到了，营收是2.8亿，利润是4500万..."
> "现在我要计算 4500 / 280000000..."

这就是 AI 从“鹦鹉学舌”进化到“逻辑思考”的关键一步！
